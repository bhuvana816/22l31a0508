{"ast":null,"code":"import axios from \"axios\";\nconst CLIENT_ID = \"529a1d32-3881-4d4f-a808-686f5d76626e\";\nconst CLIENT_SECRET = \"JPRVsSxjHvPkzZtT\";\nconst USER_EMAIL = \"bhuvanass2005@gmail.com\";\nconst USER_NAME = \"Bhuvana Sree Sahithi\";\nconst USER_ROLLNO = \"22L31A0508\";\nconst USER_ACCESSCODE = \"YzuJeU\";\nlet token = null;\n\n// ✅ Allowed frontend packages\nconst validFrontend = [\"api\", \"component\", \"hook\", \"page\", \"util\"];\nexport async function getToken() {\n  try {\n    const response = await axios.post(\"http://20.244.56.144/evaluation-service/auth\", {\n      email: USER_EMAIL,\n      name: USER_NAME,\n      rollNo: USER_ROLLNO,\n      accessCode: USER_ACCESSCODE,\n      clientID: CLIENT_ID,\n      clientSecret: CLIENT_SECRET\n    });\n    token = response.data.access_token;\n    console.log(\"✅ Frontend token fetched\");\n    return token;\n  } catch (error) {\n    var _error$response;\n    console.error(\"❌ Failed to get token:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    return null;\n  }\n}\nexport async function FrontendLog(level, packageName, message) {\n  if (!token) {\n    await getToken();\n    if (!token) return;\n  }\n  if (!validFrontend.includes(packageName)) {\n    console.error(`❌ Invalid package '${packageName}' for frontend`);\n    return;\n  }\n  try {\n    const response = await axios.post(\"http://20.244.56.144/evaluation-service/logs\", {\n      stack: \"frontend\",\n      level,\n      package: packageName,\n      message,\n      timestamp: new Date().toISOString()\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    console.log(\"✅ Frontend log sent:\", response.data);\n  } catch (error) {\n    var _error$response2;\n    console.error(\"❌ Frontend logging failed:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n  }\n}\n_c = FrontendLog;\nvar _c;\n$RefreshReg$(_c, \"FrontendLog\");","map":{"version":3,"names":["axios","CLIENT_ID","CLIENT_SECRET","USER_EMAIL","USER_NAME","USER_ROLLNO","USER_ACCESSCODE","token","validFrontend","getToken","response","post","email","name","rollNo","accessCode","clientID","clientSecret","data","access_token","console","log","error","_error$response","message","FrontendLog","level","packageName","includes","stack","package","timestamp","Date","toISOString","headers","Authorization","_error$response2","_c","$RefreshReg$"],"sources":["C:/Users/avrm2/OneDrive/デスクトップ/22L31A0508/frontend/src/logger.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst CLIENT_ID = \"529a1d32-3881-4d4f-a808-686f5d76626e\";\r\nconst CLIENT_SECRET = \"JPRVsSxjHvPkzZtT\";\r\n\r\nconst USER_EMAIL = \"bhuvanass2005@gmail.com\";\r\nconst USER_NAME = \"Bhuvana Sree Sahithi\";\r\nconst USER_ROLLNO = \"22L31A0508\";\r\nconst USER_ACCESSCODE = \"YzuJeU\";\r\n\r\nlet token = null;\r\n\r\n// ✅ Allowed frontend packages\r\nconst validFrontend = [\"api\", \"component\", \"hook\", \"page\", \"util\"];\r\n\r\nexport async function getToken() {\r\n  try {\r\n    const response = await axios.post(\"http://20.244.56.144/evaluation-service/auth\", {\r\n      email: USER_EMAIL,\r\n      name: USER_NAME,\r\n      rollNo: USER_ROLLNO,\r\n      accessCode: USER_ACCESSCODE,\r\n      clientID: CLIENT_ID,\r\n      clientSecret: CLIENT_SECRET\r\n    });\r\n\r\n    token = response.data.access_token;\r\n    console.log(\"✅ Frontend token fetched\");\r\n    return token;\r\n  } catch (error) {\r\n    console.error(\"❌ Failed to get token:\", error.response?.data || error.message);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function FrontendLog(level, packageName, message) {\r\n  if (!token) {\r\n    await getToken();\r\n    if (!token) return;\r\n  }\r\n\r\n  if (!validFrontend.includes(packageName)) {\r\n    console.error(`❌ Invalid package '${packageName}' for frontend`);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://20.244.56.144/evaluation-service/logs\",\r\n      {\r\n        stack: \"frontend\",\r\n        level,\r\n        package: packageName,\r\n        message,\r\n        timestamp: new Date().toISOString()\r\n      },\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      }\r\n    );\r\n\r\n    console.log(\"✅ Frontend log sent:\", response.data);\r\n  } catch (error) {\r\n    console.error(\"❌ Frontend logging failed:\", error.response?.data || error.message);\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAG,sCAAsC;AACxD,MAAMC,aAAa,GAAG,kBAAkB;AAExC,MAAMC,UAAU,GAAG,yBAAyB;AAC5C,MAAMC,SAAS,GAAG,sBAAsB;AACxC,MAAMC,WAAW,GAAG,YAAY;AAChC,MAAMC,eAAe,GAAG,QAAQ;AAEhC,IAAIC,KAAK,GAAG,IAAI;;AAEhB;AACA,MAAMC,aAAa,GAAG,CAAC,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;AAElE,OAAO,eAAeC,QAAQA,CAAA,EAAG;EAC/B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,8CAA8C,EAAE;MAChFC,KAAK,EAAET,UAAU;MACjBU,IAAI,EAAET,SAAS;MACfU,MAAM,EAAET,WAAW;MACnBU,UAAU,EAAET,eAAe;MAC3BU,QAAQ,EAAEf,SAAS;MACnBgB,YAAY,EAAEf;IAChB,CAAC,CAAC;IAEFK,KAAK,GAAGG,QAAQ,CAACQ,IAAI,CAACC,YAAY;IAClCC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvC,OAAOd,KAAK;EACd,CAAC,CAAC,OAAOe,KAAK,EAAE;IAAA,IAAAC,eAAA;IACdH,OAAO,CAACE,KAAK,CAAC,wBAAwB,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACZ,QAAQ,cAAAa,eAAA,uBAAdA,eAAA,CAAgBL,IAAI,KAAII,KAAK,CAACE,OAAO,CAAC;IAC9E,OAAO,IAAI;EACb;AACF;AAEA,OAAO,eAAeC,WAAWA,CAACC,KAAK,EAAEC,WAAW,EAAEH,OAAO,EAAE;EAC7D,IAAI,CAACjB,KAAK,EAAE;IACV,MAAME,QAAQ,CAAC,CAAC;IAChB,IAAI,CAACF,KAAK,EAAE;EACd;EAEA,IAAI,CAACC,aAAa,CAACoB,QAAQ,CAACD,WAAW,CAAC,EAAE;IACxCP,OAAO,CAACE,KAAK,CAAC,sBAAsBK,WAAW,gBAAgB,CAAC;IAChE;EACF;EAEA,IAAI;IACF,MAAMjB,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC/B,8CAA8C,EAC9C;MACEkB,KAAK,EAAE,UAAU;MACjBH,KAAK;MACLI,OAAO,EAAEH,WAAW;MACpBH,OAAO;MACPO,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;IACpC,CAAC,EACD;MACEC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAU5B,KAAK;MAAG;IAC9C,CACF,CAAC;IAEDa,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEX,QAAQ,CAACQ,IAAI,CAAC;EACpD,CAAC,CAAC,OAAOI,KAAK,EAAE;IAAA,IAAAc,gBAAA;IACdhB,OAAO,CAACE,KAAK,CAAC,4BAA4B,EAAE,EAAAc,gBAAA,GAAAd,KAAK,CAACZ,QAAQ,cAAA0B,gBAAA,uBAAdA,gBAAA,CAAgBlB,IAAI,KAAII,KAAK,CAACE,OAAO,CAAC;EACpF;AACF;AAACa,EAAA,GA9BqBZ,WAAW;AAAA,IAAAY,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}